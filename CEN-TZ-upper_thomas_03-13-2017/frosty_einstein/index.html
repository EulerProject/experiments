<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title id="title">
Tap: frosty_einstein
  </title>
  <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel="stylesheet"/>
  <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" rel="stylesheet"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
  </script>
  <script charset="utf-8" src="https://d3js.org/d3.v3.min.js">
  </script>
  <script id="dataAdjacency" type="text/json">
   {"directed": true, "graph": {}, "nodes": [{"group": "CEN", "id": "CEN.Midwest"}, {"group": "CEN", "id": "CEN.USA"}, {"group": "CEN", "id": "CEN.South"}, {"group": "CEN", "id": "CEN.Northeast"}, {"group": "TZ", "id": "TZ.Central"}, {"group": "TZ", "id": "TZ.Eastern"}, {"group": "TZ", "id": "TZ.Mountain"}, {"group": "CEN", "id": "CEN.West"}, {"group": "TZ", "id": "TZ.USA"}, {"group": "TZ", "id": "TZ.Pacific"}], "links": [{"source": 0, "relation": "taxonomy_incoming.CEN", "target": 1, "key": 0}, {"source": 0, "relation": "disjoint", "target": 5, "key": 0}, {"source": 0, "relation": "overlaps", "target": 4, "key": 0}, {"source": 0, "relation": "overlaps", "target": 6, "key": 0}, {"source": 0, "relation": "disjoint", "target": 9, "key": 0}, {"source": 1, "relation": "taxonomy_outgoing.CEN", "target": 0, "key": 0}, {"source": 1, "relation": "taxonomy_outgoing.CEN", "target": 2, "key": 0}, {"source": 1, "relation": "equals", "target": 8, "key": 0}, {"source": 1, "relation": "includes", "target": 4, "key": 0}, {"source": 1, "relation": "includes", "target": 5, "key": 0}, {"source": 1, "relation": "includes", "target": 6, "key": 0}, {"source": 1, "relation": "taxonomy_outgoing.CEN", "target": 7, "key": 0}, {"source": 1, "relation": "taxonomy_outgoing.CEN", "target": 3, "key": 0}, {"source": 1, "relation": "includes", "target": 9, "key": 0}, {"source": 2, "relation": "overlaps", "target": 4, "key": 0}, {"source": 2, "relation": "taxonomy_incoming.CEN", "target": 1, "key": 0}, {"source": 2, "relation": "overlaps", "target": 5, "key": 0}, {"source": 2, "relation": "overlaps", "target": 6, "key": 0}, {"source": 2, "relation": "disjoint", "target": 9, "key": 0}, {"source": 3, "relation": "taxonomy_incoming.CEN", "target": 1, "key": 0}, {"source": 3, "relation": "disjoint", "target": 4, "key": 0}, {"source": 3, "relation": "is_included_in", "target": 5, "key": 0}, {"source": 3, "relation": "disjoint", "target": 9, "key": 0}, {"source": 4, "relation": "overlaps", "target": 0, "key": 0}, {"source": 4, "relation": "overlaps", "target": 2, "key": 0}, {"source": 4, "relation": "taxonomy_incoming.TZ", "target": 8, "key": 0}, {"source": 4, "relation": "is_included_in", "target": 1, "key": 0}, {"source": 4, "relation": "overlaps", "target": 7, "key": 0}, {"source": 4, "relation": "disjoint", "target": 3, "key": 0}, {"source": 5, "relation": "disjoint", "target": 0, "key": 0}, {"source": 5, "relation": "overlaps", "target": 2, "key": 0}, {"source": 5, "relation": "taxonomy_incoming.TZ", "target": 8, "key": 0}, {"source": 5, "relation": "is_included_in", "target": 1, "key": 0}, {"source": 5, "relation": "disjoint", "target": 7, "key": 0}, {"source": 5, "relation": "includes", "target": 3, "key": 0}, {"source": 6, "relation": "overlaps", "target": 0, "key": 0}, {"source": 6, "relation": "overlaps", "target": 2, "key": 0}, {"source": 6, "relation": "is_included_in", "target": 1, "key": 0}, {"source": 6, "relation": "overlaps", "target": 7, "key": 0}, {"source": 6, "relation": "taxonomy_incoming.TZ", "target": 8, "key": 0}, {"source": 7, "relation": "overlaps", "target": 4, "key": 0}, {"source": 7, "relation": "disjoint", "target": 5, "key": 0}, {"source": 7, "relation": "taxonomy_incoming.CEN", "target": 1, "key": 0}, {"source": 7, "relation": "overlaps", "target": 6, "key": 0}, {"source": 7, "relation": "is_included_in", "target": 8, "key": 0}, {"source": 7, "relation": "includes", "target": 9, "key": 0}, {"source": 8, "relation": "taxonomy_outgoing.TZ", "target": 4, "key": 0}, {"source": 8, "relation": "taxonomy_outgoing.TZ", "target": 5, "key": 0}, {"source": 8, "relation": "taxonomy_outgoing.TZ", "target": 6, "key": 0}, {"source": 8, "relation": "equals", "target": 1, "key": 0}, {"source": 8, "relation": "includes", "target": 7, "key": 0}, {"source": 8, "relation": "taxonomy_outgoing.TZ", "target": 9, "key": 0}, {"source": 9, "relation": "disjoint", "target": 0, "key": 0}, {"source": 9, "relation": "disjoint", "target": 2, "key": 0}, {"source": 9, "relation": "taxonomy_incoming.TZ", "target": 8, "key": 0}, {"source": 9, "relation": "is_included_in", "target": 1, "key": 0}, {"source": 9, "relation": "is_included_in", "target": 7, "key": 0}, {"source": 9, "relation": "disjoint", "target": 3, "key": 0}], "multigraph": true}
  </script>
  <style type="text/css">
   .container {
	width: initial;
	padding-right: 0px;
	padding-left: 0px;
	margin-left: 0px;
	margin-right: 0px;
}
div#visualization button#zoomin {
  position: absolute;
  right: 30px;
  top: 50px;
  z-index: 99;
}
div#visualization button#zoomout {
  position: absolute;
  right: 30px;
  top: 80px;
  z-index: 99;
}	
div#visualization button#reset {
  position: absolute;
  right: 30px;
  top: 110px;
  z-index: 99;
}

div#adjacency text.activeLegend {
  fill: red;
  font-weight: bold;
}
div#adjacency text.activeTick {
   fill: red;
   font-weight: bold;
}
div#adjacency button#zoomin {
  position: absolute;
  right: 30px;
  top: 50px;
  z-index: 99;
}
div#adjacency button#zoomout {
  position: absolute;
  right: 30px;
  top: 80px;
  z-index: 99;
}	
div#adjacency button#reset {
  position: absolute;
  right: 30px;
  top: 110px;
  z-index: 99;
}
  </style>
 </head>
 <body>
  <div class="container">
   <ul class="nav nav-tabs">
    <li class="active">
     <a data-toggle="tab" href="#cleantax">
      Cleantax
     </a>
    </li>
    <li>
     <a data-toggle="tab" href="#visualization">
      Visualization
     </a>
    </li>
    <li>
     <a data-toggle="tab" href="#adjacency">
      Adjacency
     </a>
    </li>
   </ul>
   <div class="tab-content">
    <div class="tab-pane fade in active" id="cleantax">
     <textarea cols="150" disabled="" id="cleantax-textarea" rows="30">taxonomy TZ Time_Zone
(USA Central Eastern Mountain Pacific)

taxonomy CEN Census_Regions
(USA Midwest Northeast South West)

articulation
[TZ.Central disjoint CEN.Northeast]
[TZ.Eastern disjoint CEN.Midwest]
[TZ.Eastern disjoint CEN.West]
[TZ.Pacific disjoint CEN.Midwest]
[TZ.Pacific disjoint CEN.Northeast]
[TZ.Pacific disjoint CEN.South]
[TZ.USA equals CEN.USA]
[TZ.Eastern includes CEN.Northeast]
[TZ.USA includes CEN.West]
[TZ.Central is_included_in CEN.USA]
[TZ.Eastern is_included_in CEN.USA]
[TZ.Mountain is_included_in CEN.USA]
[TZ.Pacific is_included_in CEN.USA]
[TZ.Pacific is_included_in CEN.West]
[TZ.Central overlaps CEN.Midwest]
[TZ.Central overlaps CEN.South]
[TZ.Central overlaps CEN.West]
[TZ.Eastern overlaps CEN.South]
[TZ.Mountain overlaps CEN.Midwest]
[TZ.Mountain overlaps CEN.South]
[TZ.Mountain overlaps CEN.West]
</textarea>
    </div>
    <div class="tab-pane fade" id="visualization">
     <button id="zoomin">
      Zoom in
     </button>
     <button id="zoomout">
      Zoom out
     </button>
     <button id="reset">
      Reset
     </button>
<svg height="860pt" viewbox="0.00 0.00 659.89 860.43" width="660pt" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
 <g class="graph" id="graph0" transform="scale(1 1) rotate(0) translate(4 856.433)">
  <title>
   %3
  </title>
  <polygon fill="white" points="-4,4 -4,-856.433 655.885,-856.433 655.885,4 -4,4" stroke="none">
  </polygon>
  <!-- CEN.Midwest -->
  <g class="node" id="node1">
   <title>
    CEN.Midwest
   </title>
   <polygon fill="#ffffcc" points="501.066,-302.977 501.066,-317.889 460.182,-328.433 402.365,-328.433 361.482,-317.889 361.482,-302.977 402.365,-292.433 460.182,-292.433 501.066,-302.977" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="431.274" y="-306.733">
    CEN.Midwest
   </text>
  </g>
  <!-- CEN.USA -->
  <g class="node" id="node2">
   <title>
    CEN.USA
   </title>
   <polygon fill="#ffffcc" points="652.055,-302.977 652.055,-317.889 620.224,-328.433 575.209,-328.433 543.378,-317.889 543.378,-302.977 575.209,-292.433 620.224,-292.433 652.055,-302.977" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="597.716" y="-306.733">
    CEN.USA
   </text>
  </g>
  <!-- CEN.Midwest&#45;&gt;CEN.USA -->
  <g class="edge" id="edge2">
   <title>
    CEN.Midwest-&gt;CEN.USA
   </title>
   <path d="M501.059,-310.433C511.797,-310.433 522.85,-310.433 533.457,-310.433" fill="none" stroke="#000000">
   </path>
   <polygon fill="#000000" points="533.465,-313.933 543.465,-310.433 533.465,-306.933 533.465,-313.933" stroke="#000000">
   </polygon>
  </g>
  <!-- CEN.West -->
  <g class="node" id="node3">
   <title>
    CEN.West
   </title>
   <polygon fill="#ffffcc" points="487.333,-209.977 487.333,-224.889 454.494,-235.433 408.053,-235.433 375.214,-224.889 375.214,-209.977 408.053,-199.433 454.494,-199.433 487.333,-209.977" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="431.274" y="-213.733">
    CEN.West
   </text>
  </g>
  <!-- CEN.West&#45;&gt;CEN.USA -->
  <g class="edge" id="edge3">
   <title>
    CEN.West-&gt;CEN.USA
   </title>
   <path d="M480.515,-227.343C495.546,-231.611 511.779,-237.495 525.547,-245.433 543.604,-255.843 560.937,-271.511 573.976,-284.855" fill="none" stroke="#000000">
   </path>
   <polygon fill="#000000" points="571.706,-287.546 581.131,-292.386 576.781,-282.725 571.706,-287.546" stroke="#000000">
   </polygon>
  </g>
  <!-- CEN.Northeast -->
  <g class="node" id="node4">
   <title>
    CEN.Northeast
   </title>
   <polygon fill="#ffffcc" points="506.322,-501.977 506.322,-516.889 462.36,-527.433 400.188,-527.433 356.226,-516.889 356.226,-501.977 400.188,-491.433 462.36,-491.433 506.322,-501.977" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="431.274" y="-505.733">
    CEN.Northeast
   </text>
  </g>
  <!-- CEN.Northeast&#45;&gt;CEN.USA -->
  <g class="edge" id="edge1">
   <title>
    CEN.Northeast-&gt;CEN.USA
   </title>
   <path d="M447.157,-491.422C476.373,-456.066 541.326,-377.463 575.209,-336.459" fill="none" stroke="#000000">
   </path>
   <polygon fill="#000000" points="578.076,-338.485 581.748,-328.547 572.68,-334.026 578.076,-338.485" stroke="#000000">
   </polygon>
  </g>
  <!-- CEN.South -->
  <g class="node" id="node5">
   <title>
    CEN.South
   </title>
   <polygon fill="#ffffcc" points="490.461,-348.977 490.461,-363.889 455.79,-374.433 406.758,-374.433 372.087,-363.889 372.087,-348.977 406.758,-338.433 455.79,-338.433 490.461,-348.977" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="431.274" y="-352.733">
    CEN.South
   </text>
  </g>
  <!-- CEN.South&#45;&gt;CEN.USA -->
  <g class="edge" id="edge4">
   <title>
    CEN.South-&gt;CEN.USA
   </title>
   <path d="M475.479,-344.347C497.031,-338.318 523.239,-330.987 545.767,-324.685" fill="none" stroke="#000000">
   </path>
   <polygon fill="#000000" points="546.812,-328.027 555.499,-321.963 544.926,-321.286 546.812,-328.027" stroke="#000000">
   </polygon>
  </g>
  <!-- TZ.Eastern -->
  <g class="node" id="node6">
   <title>
    TZ.Eastern
   </title>
   <polygon fill="#ccffcc" points="298,-552.433 215,-552.433 215,-516.433 298,-516.433 298,-552.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="256.5" y="-530.733">
    TZ.Eastern
   </text>
  </g>
  <!-- TZ.Eastern&#45;&gt;CEN.Midwest -->
  <g class="edge" id="edge25">
   <title>
    TZ.Eastern-&gt;CEN.Midwest
   </title>
   <path d="M295.912,-516.241C311.515,-506.86 328.154,-493.892 338,-477.433 371.337,-421.704 314.008,-381.968 356,-332.433 360.174,-327.509 365.394,-323.658 371.121,-320.651" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-499.233">
    !
   </text>
  </g>
  <!-- TZ.Eastern&#45;&gt;CEN.USA -->
  <g class="edge" id="edge17">
   <title>
    TZ.Eastern-&gt;CEN.USA
   </title>
   <path d="M269.045,-552.677C280.178,-568.398 298.609,-590.005 321,-599.433 383.294,-625.663 311.327,-727.419 506.547,-536.433 567.393,-476.907 588.318,-371.071 594.469,-328.707" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="431.274" y="-653.233">
    &lt;
   </text>
  </g>
  <!-- TZ.Eastern&#45;&gt;CEN.West -->
  <g class="edge" id="edge10">
   <title>
    TZ.Eastern-&gt;CEN.West
   </title>
   <path d="M273.034,-516.078C291.95,-492.582 323.203,-449.825 338,-407.433 350.374,-371.984 331.962,-268.276 356,-239.433 361.252,-233.131 368.218,-228.583 375.784,-225.311" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-448.233">
    !
   </text>
  </g>
  <!-- TZ.Eastern&#45;&gt;CEN.Northeast -->
  <g class="edge" id="edge29">
   <title>
    TZ.Eastern-&gt;CEN.Northeast
   </title>
   <path d="M273.317,-552.714C288.978,-568.467 314.023,-587.499 338,-579.433 368.303,-569.24 396.559,-544.705 413.622,-527.576" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-584.233">
    &gt;
   </text>
  </g>
  <!-- TZ.Eastern&#45;&gt;CEN.South -->
  <g class="edge" id="edge21">
   <title>
    TZ.Eastern-&gt;CEN.South
   </title>
   <path d="M298.188,-539.739C311.977,-539.495 326.727,-536.758 338,-528.433 355.66,-515.391 346.395,-502.174 356,-482.433 375.33,-442.702 402.696,-398.772 418.244,-374.705" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-539.233">
    &gt;&lt;
   </text>
  </g>
  <!-- TZ.Pacific -->
  <g class="node" id="node7">
   <title>
    TZ.Pacific
   </title>
   <polygon fill="#ccffcc" points="295,-794.433 218,-794.433 218,-758.433 295,-758.433 295,-794.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="256.5" y="-772.733">
    TZ.Pacific
   </text>
  </g>
  <!-- TZ.Pacific&#45;&gt;CEN.Midwest -->
  <g class="edge" id="edge20">
   <title>
    TZ.Pacific-&gt;CEN.Midwest
   </title>
   <path d="M295.259,-759.329C311.344,-749.967 328.549,-736.71 338,-719.433 358.659,-681.668 329.45,-366.316 356,-332.433 359.982,-327.352 365.081,-323.403 370.74,-320.34" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-743.233">
    !
   </text>
  </g>
  <!-- TZ.Pacific&#45;&gt;CEN.USA -->
  <g class="edge" id="edge18">
   <title>
    TZ.Pacific-&gt;CEN.USA
   </title>
   <path d="M266.475,-794.762C280.02,-819.649 307.377,-859.609 338,-846.433 438.079,-803.371 454.082,-763.918 506.547,-668.433 571.672,-549.908 590.698,-383.562 595.374,-328.743" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="431.274" y="-841.233">
    &lt;
   </text>
  </g>
  <!-- TZ.Pacific&#45;&gt;CEN.West -->
  <g class="edge" id="edge19">
   <title>
    TZ.Pacific-&gt;CEN.West
   </title>
   <path d="M268.496,-758.407C286.817,-727.298 323.053,-660.939 338,-599.433 347.458,-560.516 331.243,-270.914 356,-239.433 361.071,-232.984 367.943,-228.36 375.469,-225.056" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-653.233">
    &lt;
   </text>
  </g>
  <!-- TZ.Pacific&#45;&gt;CEN.Northeast -->
  <g class="edge" id="edge16">
   <title>
    TZ.Pacific-&gt;CEN.Northeast
   </title>
   <path d="M271.832,-794.456C288.971,-813.892 317.862,-839.745 338,-821.433 369.215,-793.05 342.765,-672.493 356,-632.433 369.382,-591.93 398.026,-550.656 415.572,-527.713" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-831.233">
    !
   </text>
  </g>
  <!-- TZ.Pacific&#45;&gt;CEN.South -->
  <g class="edge" id="edge15">
   <title>
    TZ.Pacific-&gt;CEN.South
   </title>
   <path d="M295.198,-783.489C310.48,-784.096 327.066,-781.498 338,-770.433 360.535,-747.626 346.601,-513.087 356,-482.433 368.804,-440.676 397.931,-398.152 415.667,-374.741" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-783.233">
    !
   </text>
  </g>
  <!-- TZ.Central -->
  <g class="node" id="node8">
   <title>
    TZ.Central
   </title>
   <polygon fill="#ccffcc" points="296.5,-300.433 216.5,-300.433 216.5,-264.433 296.5,-264.433 296.5,-300.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="256.5" y="-278.733">
    TZ.Central
   </text>
  </g>
  <!-- TZ.Central&#45;&gt;CEN.Midwest -->
  <g class="edge" id="edge11">
   <title>
    TZ.Central-&gt;CEN.Midwest
   </title>
   <path d="M296.705,-288.787C318.409,-292.304 345.846,-296.75 370.198,-300.697" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-299.233">
    &gt;&lt;
   </text>
  </g>
  <!-- TZ.Central&#45;&gt;CEN.USA -->
  <g class="edge" id="edge13">
   <title>
    TZ.Central-&gt;CEN.USA
   </title>
   <path d="M296.856,-273.698C346.399,-264.183 433.824,-252.327 506.547,-268.433 528.972,-273.399 552.434,-284.542 569.802,-294.102" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="431.274" y="-272.233">
    &lt;
   </text>
  </g>
  <!-- TZ.Central&#45;&gt;CEN.West -->
  <g class="edge" id="edge22">
   <title>
    TZ.Central-&gt;CEN.West
   </title>
   <path d="M274.004,-264.381C285.867,-252.641 302.906,-238.132 321,-230.433 337.789,-223.29 357.258,-219.667 375.072,-217.932" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-234.233">
    &gt;&lt;
   </text>
  </g>
  <!-- TZ.Central&#45;&gt;CEN.Northeast -->
  <g class="edge" id="edge26">
   <title>
    TZ.Central-&gt;CEN.Northeast
   </title>
   <path d="M271.347,-300.626C303.697,-343.129 383.946,-448.564 416.361,-491.154" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-392.233">
    !
   </text>
  </g>
  <!-- TZ.Central&#45;&gt;CEN.South -->
  <g class="edge" id="edge23">
   <title>
    TZ.Central-&gt;CEN.South
   </title>
   <path d="M287.804,-300.436C306.912,-311.279 332.361,-324.803 356,-334.433 365.341,-338.238 375.584,-341.702 385.398,-344.698" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-329.233">
    &gt;&lt;
   </text>
  </g>
  <!-- TZ.USA -->
  <g class="node" id="node9">
   <title>
    TZ.USA
   </title>
   <polygon fill="#ccffcc" points="173,-223.433 108,-223.433 108,-187.433 173,-187.433 173,-223.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="140.5" y="-201.733">
    TZ.USA
   </text>
  </g>
  <!-- TZ.USA&#45;&gt;CEN.USA -->
  <g class="edge" id="edge12">
   <title>
    TZ.USA-&gt;CEN.USA
   </title>
   <path d="M142.983,-187.216C146.911,-152.528 160.944,-77.6751 210,-46.433 321.595,24.6377 404.468,11.7345 506.547,-72.433 576.264,-129.916 592.137,-247.435 595.701,-292.392" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-6.23295">
    ==
   </text>
  </g>
  <!-- TZ.USA&#45;&gt;CEN.West -->
  <g class="edge" id="edge9">
   <title>
    TZ.USA-&gt;CEN.West
   </title>
   <path d="M144.759,-187.247C151.22,-157.232 168.762,-98.0923 210,-72.433 258.308,-42.3746 288.21,-42.9001 338,-70.433 388.365,-98.2835 414.941,-166.404 425.189,-199.201" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="256.5" y="-76.233">
    &gt;
   </text>
  </g>
  <!-- TZ.USA&#45;&gt;TZ.Eastern -->
  <g class="edge" id="edge8">
   <title>
    TZ.USA-&gt;TZ.Eastern
   </title>
   <path d="M151.139,-233.252C173.872,-298.856 230.335,-461.806 249.228,-516.332" fill="none" stroke="#000000">
   </path>
   <polygon fill="#000000" points="154.373,-231.893 147.792,-223.59 147.759,-234.185 154.373,-231.893" stroke="#000000">
   </polygon>
  </g>
  <!-- TZ.USA&#45;&gt;TZ.Pacific -->
  <g class="edge" id="edge5">
   <title>
    TZ.USA-&gt;TZ.Pacific
   </title>
   <path d="M146.718,-233.497C157.944,-293.662 185.37,-439.506 210,-561.433 224.769,-634.545 243.516,-721.377 251.552,-758.335" fill="none" stroke="#000000">
   </path>
   <polygon fill="#000000" points="150.148,-232.799 144.875,-223.61 143.266,-234.082 150.148,-232.799" stroke="#000000">
   </polygon>
  </g>
  <!-- TZ.USA&#45;&gt;TZ.Central -->
  <g class="edge" id="edge6">
   <title>
    TZ.USA-&gt;TZ.Central
   </title>
   <path d="M176.661,-229.182C193.373,-240.47 213.036,-253.751 228.545,-264.226" fill="none" stroke="#000000">
   </path>
   <polygon fill="#000000" points="178.474,-226.183 168.228,-223.486 174.556,-231.984 178.474,-226.183" stroke="#000000">
   </polygon>
  </g>
  <!-- TZ.Mountain -->
  <g class="node" id="node10">
   <title>
    TZ.Mountain
   </title>
   <polygon fill="#ccffcc" points="303,-132.433 210,-132.433 210,-96.433 303,-96.433 303,-132.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="middle" x="256.5" y="-110.733">
    TZ.Mountain
   </text>
  </g>
  <!-- TZ.USA&#45;&gt;TZ.Mountain -->
  <g class="edge" id="edge7">
   <title>
    TZ.USA-&gt;TZ.Mountain
   </title>
   <path d="M172.13,-180.982C191.214,-165.749 215.357,-146.477 232.744,-132.598" fill="none" stroke="#000000">
   </path>
   <polygon fill="#000000" points="169.927,-178.262 164.296,-187.236 174.295,-183.733 169.927,-178.262" stroke="#000000">
   </polygon>
  </g>
  <!-- TZ.Mountain&#45;&gt;CEN.Midwest -->
  <g class="edge" id="edge24">
   <title>
    TZ.Mountain-&gt;CEN.Midwest
   </title>
   <path d="M303.225,-112.651C316.096,-114.493 329.018,-118.965 338,-128.433 384.21,-177.147 315.809,-224.645 356,-278.433 362.303,-286.869 371.288,-293.108 380.842,-297.714" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-132.233">
    &gt;&lt;
   </text>
  </g>
  <!-- TZ.Mountain&#45;&gt;CEN.USA -->
  <g class="edge" id="edge27">
   <title>
    TZ.Mountain-&gt;CEN.USA
   </title>
   <path d="M296.387,-96.138C298.686,-94.6422 300.911,-93.0717 303,-91.433 312.673,-83.8466 309.832,-75.5696 321,-70.433 327.864,-67.2758 330.736,-68.3553 338,-70.433 422.855,-94.7019 443.158,-114.024 506.547,-175.433 543.39,-211.125 573.421,-264.301 587.705,-292.061" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="431.274" y="-179.233">
    &lt;
   </text>
  </g>
  <!-- TZ.Mountain&#45;&gt;CEN.West -->
  <g class="edge" id="edge28">
   <title>
    TZ.Mountain-&gt;CEN.West
   </title>
   <path d="M275.402,-96.4207C291.927,-82.0767 317.01,-66.1282 338,-77.433 386.439,-103.521 413.65,-167.397 424.575,-199.045" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-81.233">
    &gt;&lt;
   </text>
  </g>
  <!-- TZ.Mountain&#45;&gt;CEN.South -->
  <g class="edge" id="edge14">
   <title>
    TZ.Mountain-&gt;CEN.South
   </title>
   <path d="M279.554,-132.536C298.386,-149.339 324.504,-176.118 338,-205.433 362.208,-258.017 318.234,-290.56 356,-334.433 361.089,-340.345 367.684,-344.707 374.842,-347.918" fill="none" stroke="#aa00ff" stroke-dasharray="5,2">
   </path>
   <text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="329.5" y="-209.233">
    &gt;&lt;
   </text>
  </g>
  <!-- Legend -->
  <g class="node" id="node11">
   <title>
    Legend
   </title>
   <polygon fill="white" points="90,-292.933 0,-292.933 0,-117.933 90,-117.933 90,-292.933" stroke="black">
   </polygon>
   <polygon fill="none" points="0,-267.433 0,-292.433 90,-292.433 90,-267.433 0,-267.433" stroke="black">
   </polygon>
   <text font-family="Arial Black" font-size="14.00" text-anchor="start" x="22" y="-276.233">
    Nodes
   </text>
   <polygon fill="#ffffcc" points="0,-242.433 0,-267.433 64,-267.433 64,-242.433 0,-242.433" stroke="none">
   </polygon>
   <polygon fill="none" points="0,-242.433 0,-267.433 64,-267.433 64,-242.433 0,-242.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="17.5" y="-251.233">
    CEN
   </text>
   <polygon fill="none" points="64,-242.433 64,-267.433 90,-267.433 90,-242.433 64,-242.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="73" y="-251.233">
    5
   </text>
   <polygon fill="#ccffcc" points="0,-217.433 0,-242.433 64,-242.433 64,-217.433 0,-217.433" stroke="none">
   </polygon>
   <polygon fill="none" points="0,-217.433 0,-242.433 64,-242.433 64,-217.433 0,-217.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="23.5" y="-226.233">
    TZ
   </text>
   <polygon fill="none" points="64,-217.433 64,-242.433 90,-242.433 90,-217.433 64,-217.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="73" y="-226.233">
    5
   </text>
   <polygon fill="none" points="0,-192.433 0,-217.433 90,-217.433 90,-192.433 0,-192.433" stroke="black">
   </polygon>
   <text font-family="Arial Black" font-size="14.00" text-anchor="start" x="20.5" y="-201.233">
    Edges
   </text>
   <polygon fill="none" points="0,-167.433 0,-192.433 64,-192.433 64,-167.433 0,-167.433" stroke="black">
   </polygon>
   <text fill="#000000" font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="5" y="-176.233">
    isa_CEN
   </text>
   <polygon fill="none" points="64,-167.433 64,-192.433 90,-192.433 90,-167.433 64,-167.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="73" y="-176.233">
    4
   </text>
   <polygon fill="none" points="0,-142.433 0,-167.433 64,-167.433 64,-142.433 0,-142.433" stroke="black">
   </polygon>
   <text fill="#000000" font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="11" y="-151.233">
    isa_TZ
   </text>
   <polygon fill="none" points="64,-142.433 64,-167.433 90,-167.433 90,-142.433 64,-142.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="73" y="-151.233">
    4
   </text>
   <polygon fill="none" points="0,-117.433 0,-142.433 64,-142.433 64,-117.433 0,-117.433" stroke="black">
   </polygon>
   <text fill="#aa00ff" font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="21" y="-126.233">
    Art.
   </text>
   <polygon fill="none" points="64,-117.433 64,-142.433 90,-142.433 90,-117.433 64,-117.433" stroke="black">
   </polygon>
   <text font-family="Helvetica,sans-Serif" font-size="14.00" text-anchor="start" x="69" y="-126.233">
    21
   </text>
  </g>
 </g>
</svg>
    </div>
    <div class="tab-pane fade" id="adjacency">
     <button id="zoomin">
      Zoom in
     </button>
     <button id="zoomout">
      Zoom out
     </button>
     <button id="reset">
      Reset
     </button>
    </div>
   </div>
  </div>
  <script id="visualization">
   var size = {
  width: document.body.clientWidth || window.innerWidth,
  height: document.body.clientHeight || window.innerHeight
}

var oldSvg = d3.select("div#visualization svg")
var graphG = d3.select("div#visualization svg g.graph");
oldSvg.remove();

var margin = {top: 0, right: 0, bottom: 0, left: 0},
    width = size['width'] - margin.left - margin.right,
    height = size['height'] - 1 - margin.top - margin.bottom;

var x = d3.scale.linear()
    .domain([-width / 2, width / 2])
    .range([0, width]);

var y = d3.scale.linear()
    .domain([-height / 2, height / 2])
    .range([height, 0]);

var zoom = d3.behavior.zoom()
    .x(x)
    .y(y)
    .scaleExtent([0.1, 32])
    .on("zoom", zoom);

var svg = d3.select("#visualization").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
	.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
    .call(zoom)
	.append(function() {
		return graphG.node();
	});

function zoom() {
	x = d3.event.translate[0]
	y = d3.event.translate[1]
    graphG.attr("transform", "translate(" + d3.event.translate + ") scale(" + d3.event.scale + ")");
}


d3.select("div#visualization button#reset").on("click", reset);
d3.select("div#visualization button#zoomin").on("click", zoomIn);
d3.select("div#visualization button#zoomout").on("click", zoomOut);

var originalWidth = Number(oldSvg.attr("width").slice(0, -2));
var originalHeight = Number(oldSvg.attr("width").slice(0, -2));
initialScale = Math.min(width/originalWidth, height/originalHeight) * 0.7
var t = d3.transform(graphG.attr("transform")),
    	initialX = (size['width'] - (initialScale * originalWidth))/2, //t.translate[0],
    	initialY = size['height'] * 0.8, //t.translate[1],
		initialS = initialScale; //t.scale[0];
		
function zoomIn() {
	var t = d3.transform(graphG.attr("transform")),
    	x = t.translate[0],
    	y = t.translate[1],
		s = t.scale[0];
	var newScale = (s + 0.1);
	zoom.scale(newScale)
	graphG.attr("transform", "translate(" + x + " ," + y + ") scale(" + newScale + ")");
}

function zoomOut() {
	var t = d3.transform(graphG.attr("transform")),
    	x = t.translate[0],
    	y = t.translate[1],
		s = t.scale[0];
	var newScale = (s - 0.1);
	zoom.scale(newScale)
	graphG.attr("transform", "translate(" + x + " ," + y + ") scale(" + newScale + ")");
}

function reset() {
	initialTranslate = [initialX, initialY];
	zoom.translate(initialTranslate);
	zoom.scale(initialS)
	graphG.attr("transform", "translate(" + initialX + " ," + initialY + ") scale(" + initialS + ")");
}

reset(); //removes the random jump after first click issue
  </script>
  <script id="adjacency">
   var size = {
  width: document.body.clientWidth || window.innerWidth,
  height: document.body.clientHeight || window.innerHeight
}

var margin = {top: 0, right: 0, bottom: 0, left: 0},
    width = size['width'] - margin.left - margin.right,
    height = size['height'] - 1 - margin.top - margin.bottom;

var x = d3.scale.linear()
    .domain([-width / 2, width / 2])
    .range([0, width]);

var y = d3.scale.linear()
    .domain([-height / 2, height / 2])
    .range([height, 0]);

var zoom = d3.behavior.zoom()
    .x(x)
    .y(y)
    .scaleExtent([0.1, 32])
    .on("zoom", zoom);

var canvas = d3.select("#adjacency").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
	.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
    .call(zoom);

var content = canvas.append("g");
	
var cellWidth = 25;

var data = JSON.parse(document.getElementById('dataAdjacency').innerHTML);

//sort nodes
for (i in data['links']) {
	l = data['links'][i];
	l.source = data['nodes'][l.source].id
	l.target = data['nodes'][l.target].id
}
data['nodes'] = data['nodes'].sort(function(a, b) { 
									return d3.ascending(a.id, b.id); 
								});
//sort links for legend
data['links'] = data['links'].sort(function(a, b) { 
								return d3.ascending(a.relation, b.relation); 
							});
for (i in data['links']) {
	l = data['links'][i];
	l.source = data['nodes'].map(function (n) {
									return n.id;
								}).indexOf(l.source)
	l.target = data['nodes'].map(function (n) {
									return n.id;
								}).indexOf(l.target)
}

var linksMap = { };
for (i in data['links']) {
	var l = data['links'][i];
	linksMap[l.source + ";" + l.target] = l;
}
var cells = [];
for (i in data['nodes']) {
	for (j in data['nodes']) {
		var id = i + ";" + j;
		cells.push({ 
					id: id,
					source: i, 
					target: j, 
					relation: id in linksMap ? linksMap[id].relation : ""
				});
	}
}
c20 = d3.scale.category20();
colorIndex = 0;
var colors = { 
		"" : "white",
		"equals" : c20(colorIndex++),
		"disjoint" : c20(colorIndex++),
		"includes" : c20(colorIndex++),
		"is_included_in" : c20(colorIndex++),
		"overlaps" : c20(colorIndex++)
}
for (i in data['links']) {
	var l = data['links'][i];
	if (!(l.relation in colors)) {
		colors[l.relation] = c20(colorIndex);
		colorIndex = (colorIndex + 1) % 20;
	}
	cells.push({ 
				id: l.source + ";" + l.target, 
				source: l.source, 
				target: l.target, 
				relation: l.relation 
			});
}

var x = d3.scale.linear()
	.domain([-width / 2, width / 2])
	.range([0, width]);

var y = d3.scale.linear()
	.domain([-height / 2, height / 2])
	.range([height, 0]);

adjacencyView = content.append("g")
	      .attr("transform", "translate(90,90)");
	    adjacencyView.selectAll("rect")
	      .data(cells)
	      .enter()
	      .append("rect")
	      .attr("width", cellWidth)
	      .attr("height", cellWidth)
	      .attr("x", function (d) {return d.target * cellWidth})
	      .attr("y", function (d) {return d.source * cellWidth})
	      .style("fill", function(d) { return colors[d.relation]; })
	      .style("stroke", "gray")
	      .on("mouseover", mouseover)
		  .on("mouseout", mouseout);
		
var matrixScale = d3.scale.ordinal()
					.domain(data['nodes'].map(function (n) {
										return n.id
									}))
					.rangePoints([0, data['nodes'].length * cellWidth], 1);
					
/*tickValues = []
for (i = 0; i < data['nodes'].length - 2; i++) { 
	tickValues.push(i * cellWidth + 0.5 * cellWidth)
}*/
/*for (i in data['nodes']) {
	console.log(i);
	console.log(i * cellWidth);
	console.log(i * cellWidth - 0.5 * cellWidth);
	tickValues.push(i * cellWidth - 0.5 * cellWidth)
	
}
console.log(tickValues);*/
xAxis = d3.svg.axis()
			.scale(matrixScale)
			//.tickValues(tickValues)
			.orient("top")
			.tickSize(0); 
yAxis = d3.svg.axis()
			.scale(matrixScale)
			//.tickValues(tickValues)
			.orient("left")
			.tickSize(0);    
adjacencyView.append("g")
			.call(xAxis)
			.selectAll("text")
			.style("text-anchor", "end")
			.attr("transform", "translate(-8,-10) rotate(90)");
adjacencyView.append("g")
			.call(yAxis)
			//.attr("transform", "translate(-10, -10)");
  
function mouseover(d, i) {
	d3.selectAll("div#adjacency rect")
		/*.style("stroke", function(o) {
			return (o.source == d.source || o.target == d.target) ? "black" : "gray";
		})*/
		.style("stroke-width", function(o) {
			return (o.source == d.source || o.target == d.target) ? "3px" : "1px";
		});
	d3.selectAll("div#adjacency legend g text").classed("activeLegend", function(c, i) { 
												return c == d.relation
											});
	d3.selectAll("div#adjacency g.tick text").classed("activeTick", function(c, i) {
												return data['nodes'][d.source].id == c || data['nodes'][d.target].id == c;
											});
}

function mouseout() {
	d3.selectAll("div#adjacency rect").style("stroke-width", "1px");
	d3.selectAll("div#adjacency legend g text").classed("activeLegend", false);
	d3.selectAll("div#adjacency g.tick text").classed("activeTick", false);
}

content.append("g").append("text").text("From").style("font-weight", "bold").attr("transform", "translate(5, 75)");
content.append("g").append("text").text("To").style("font-weight", "bold").attr("transform", "translate(60, 30)");

legend = []
for (c in colors) {
	if (c != "") { 
		legend.push(c);
	}
}
adjacencyViewLegend = content.append("g")
	.attr("transform", "translate(" + ((data['nodes'].length * cellWidth) + 150) + ", 80)")
	.attr("id", "legend");
legendGs = adjacencyViewLegend.selectAll("g")
  .data(legend);
legendG = legendGs.enter()
  .append("g")
legendG.append("rect")
  .attr("width", cellWidth)
  .attr("height", cellWidth)
  .attr("x", function (d, i) {return 0; })
  .attr("y", function (d, i) {return i * cellWidth})
  .style("fill", function(d) { return colors[d]; })
  .style("stroke", "gray");
legendG.append("text")
  .text(function(d) { return d; })
  .attr("x", function (d, i) { return 40; })
  .attr("y", function (d, i) { return (i * (cellWidth)) + 18; });	

function zoom() {
	x = d3.event.translate[0]
	y = d3.event.translate[1]
    content.attr("transform", "translate(" + d3.event.translate + ") scale(" + d3.event.scale + ")");
}

d3.select("div#adjacency button#reset").on("click", reset);
d3.select("div#adjacency button#zoomin").on("click", zoomIn);
d3.select("div#adjacency button#zoomout").on("click", zoomOut);


var originalWidth = data['nodes'].length * cellWidth + 100;
var originalHeight = data['nodes'].length * cellWidth + 100;
initialScale = Math.min(width/originalWidth, height/originalHeight) * 0.7
var t = d3.transform(graphG.attr("transform")),
    	initialX = (size['width'] - (initialScale * originalWidth))/2, //t.translate[0],
    	initialY = 20, //t.translate[1],
		initialS = initialScale; //t.scale[0];

function zoomIn() {
	var t = d3.transform(content.attr("transform")),
    	x = t.translate[0],
    	y = t.translate[1],
		s = t.scale[0];
	var newScale = (s + 0.1);
	zoom.scale(newScale)
	content.attr("transform", "translate(" + x + " ," + y + ") scale(" + newScale + ")");
}

function zoomOut() {
	var t = d3.transform(content.attr("transform")),
    	x = t.translate[0],
    	y = t.translate[1],
		s = t.scale[0];
	var newScale = (s - 0.1);
	zoom.scale(newScale)
	content.attr("transform", "translate(" + x + " ," + y + ") scale(" + newScale + ")");
}

function reset() {
	initialTranslate = [initialX, initialY];
	zoom.translate(initialTranslate);
	zoom.scale(initialS)
	content.attr("transform", "translate(" + initialX + " ," + initialY + ") scale(" + initialS + ")");
}

reset(); //removes the random jump after first click issue
  </script>
 </body>
</html>